<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Nomic Rules</title>
	<meta name="author" content="HappyGnome">
	<link rel="stylesheet" href="style.css">
	<script src="jquery-3.3.1.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	

</head>
<body>
	<script type="application/javascript" src="GenerateRuleBox.js"></script>
	<script type="application/javascript">
		//TODO: sort rules, search.
		$(document).ready(function(){
			$.ajax({url:"rules.json", type:"GET", dataType:"json"})
			.done(function(rules){
				$("#title_annot").text("updated: " + rules.date +" by "+ rules.author);
				for (var i in rules.items){		
					var rule=rules.items[i];			
					if(rule.ineffect=="1") $("#rules_list").append(GenerateRuleBox(rules.items, i));
					else $("#rules_list_repealed").append(GenerateRuleBox(rules.items,i))
				}
				//refresh hash:
				//var hash=location.hash;
				//location.hash="";
				//location.hash=hash;
			})
			.fail(function(){
				alert("Oops! Retrieval of rules data failed.");
				<!--TODO-->
			});	
		});
	</script>
	<script src="navhide.js" type="application/javascript"></script>
	<nav>
		<div class="navinner">
			<a class="navlink navlink_s" href="index.html">Rules</a>
			<a class="navlink" href="days.html">Days</a>
		</div>
	</nav>
	<div class="navspacer"></div>
	<div class="page_head">
		<h1 id="title">The Rules</h1><h2 id="title_annot"></h2>
	</div>
	<div class="rules_list" id="rules_list">
	</div>
	<h2 class="repealed_heading">Repealed Rules</h2>
	<div class="rules_list_repealed rules_list " id="rules_list_repealed">
	</div>
</body>
</html>